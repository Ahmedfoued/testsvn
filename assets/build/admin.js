(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var o in a)e.o(a,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:a[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.jQuery;var a=e.n(t);a()(document).ready((function(){var e;a()(document).on("click","#pbx-tabs a",(function(e){a()("#pbx-plugin-configuration .tab-active").removeClass("tab-active"),a()(a()(this).attr("href")).addClass("tab-active"),a()("#pbx-tabs a.nav-tab-active").removeClass("nav-tab-active"),a()(this).addClass("nav-tab-active"),a()("#mainform").attr("action",a()(this).attr("href")),e.preventDefault()})),"string"==typeof window.location.hash&&(a()('.nav-tab[href="'+window.location.hash+'"]').trigger("click"),a()("#mainform").attr("action",window.location.hash)),a()(document).on("change","#woocommerce_"+pbxGatewayId+"_environment",(function(){confirm(pbxConfigModeMessage)&&a()(".woocommerce-save-button").trigger("click")})),a()(document).on("change",'[name="typeOfConfiguration"]',(function(){window.onbeforeunload=null,window.location=pbxUrl+"&config_mode="+this.value})),a()(document).on("change","#woocommerce_"+pbxGatewayId+"_delay",(function(){a()(this).val()==pbxOrderStateDelay?a()("#woocommerce_"+pbxGatewayId+"_capture_order_status").parents("tr").removeClass("hidden"):a()("#woocommerce_"+pbxGatewayId+"_capture_order_status").parents("tr").addClass("hidden")})),a()(document).on("change","#woocommerce_"+pbxGatewayId+"_subscription",(function(){let e=a()(this).val();a()("#woocommerce_"+pbxGatewayId+'_delay option[value="'+pbxOrderStateDelay+'"]').prop("disabled",e!=pbxPremiumSubscriptionId),a()(pbxPremiumSubscriptionFields).each((function(t,o){e==pbxPremiumSubscriptionId?a()("#woocommerce_"+pbxGatewayId+"_"+o).parents("tr").removeClass("hidden"):a()("#woocommerce_"+pbxGatewayId+"_"+o).parents("tr").addClass("hidden")}))})),a()("#woocommerce_"+pbxGatewayId+'_delay option[value="'+pbxOrderStateDelay+'"]').prop("disabled",pbxCurrentSubscription!=pbxPremiumSubscriptionId),a()(pbxPremiumSubscriptionFields).each((function(e,t){a()("#woocommerce_"+pbxGatewayId+"_"+t).hasClass("hidden")&&(a()("#woocommerce_"+pbxGatewayId+"_"+t).parents("tr").addClass("hidden"),a()("#woocommerce_"+pbxGatewayId+"_"+t).removeClass("hidden"))})),a()("#woocommerce_"+pbxGatewayId+"_delay").trigger("change"),a()("#JS-WC-select-log-file").on("change",(function(e){let t=e.currentTarget.value;if(t){let e=document.querySelector("#JS-WC-button-dwn-log-file");e&&(e.dataset.href=t)}})),a()("#JS-WC-button-dwn-log-file").on("click",(function(e){e.preventDefault();let t=e.currentTarget,a=t.querySelector(".spinner"),o=t.dataset.href;a.classList.add("is-active");let n=new FormData;n.append("action","wc_etransactions_get_log_file_content"),n.append("nonce",pbx_admin.nonce),n.append("name",o);let r={method:"POST",body:n,redirect:"follow"};fetch(pbx_admin.ajaxUrl,r).then((e=>e.json())).then((e=>{if(e.success){let t=new Blob([e.data]),a=document.createElement("a");a.setAttribute("download",o);let n=URL.createObjectURL(t);a.href=n,a.setAttribute("target","_blank"),a.click(),URL.revokeObjectURL(n)}else console.log(e.data);a.classList.remove("is-active")})).catch((e=>console.log("error",e)))})),a()("#woocommerce_etransactions_3x_sofinco_fees_management").on("change",(function(e){var t=a()(this).val();a()('input[data-name="title"]').each((function(e,o){var n=a()(o).attr("data-key");t==n?a()(o).parents("tr").removeClass("hidden"):a()(o).parents("tr").addClass("hidden")}))})),e=a()("#woocommerce_etransactions_3x_sofinco_fees_management").val(),a()('input[data-name="title"]').each((function(t,o){var n=a()(o).attr("data-key");e==n?a()(o).parents("tr").removeClass("hidden"):a()(o).parents("tr").addClass("hidden")}))}))})();