(()=>{function e(){jQuery(".Up2Pay-phone").each((function(e,o){let n,i=jQuery(this);n=window.intlTelInput(o,{utilsScript:pbx_fo.utilsUrl,initialCountry:jQuery("#billing_country").val(),showSelectedDialCode:!0,allowDropdown:!0});let u=function(){n.isValidNumber()?(console.log("is valid"),jQuery(".js-up2pay-valid").show(),jQuery(".js-up2pay-invalid").hide(),jQuery("#place_order").prop("disabled",!1)):(console.log("is invalid"),jQuery(".js-up2pay-valid").hide(),jQuery(".js-up2pay-invalid").show(),jQuery("#place_order").prop("disabled",!0)),jQuery(".Up2Pay-phone").val(i.val()),jQuery(".Up2Pay-countrycode").val(n.getSelectedCountryData().dialCode)};o.addEventListener("change",u),o.addEventListener("keyup",u),o.addEventListener("countrychange",(function(){u()})),n.promise.then((function(){u()}))}))}function o(){jQuery("#billing_phone").val()?(jQuery("#place_order").prop("disabled",!1),jQuery(".Up2Pay-block").hide()):(jQuery(".Up2Pay-block").show(),e())}jQuery(document.body).on("updated_checkout",(function(){o()})),jQuery(document.body).on("update_checkout",(function(){o()})),jQuery(document).on("ready",(function(){jQuery("#billing_phone").val()?(jQuery("#place_order").prop("disabled",!1),jQuery(".Up2Pay-block").hide()):(jQuery(".iti").show(),jQuery(".Up2Pay-block").show(),e())})),jQuery("#billing_phone").on("input",(function(){jQuery(this).val()?(jQuery("#place_order").prop("disabled",!1),jQuery(".Up2Pay-block").hide()):(jQuery(".iti").show(),jQuery(".Up2Pay-block").show(),e())})),jQuery(document).on("change","input[name=payment_method]",(function(){-1===jQuery(this).val().indexOf("etransactions_std_card")?(jQuery("#place_order").prop("disabled",!1),console.log("not caps")):o()}))})();